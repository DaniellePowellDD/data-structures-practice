# 栈实现 (Stack)

栈是后进先出(LIFO)的数据结构，只能在一端进行操作。

## 🔧 功能特性

- **数组栈**：基于数组的栈实现
- **链表栈**：基于链表的栈实现
- **栈应用**：括号匹配、表达式转换、进制转换
- **容量控制**：可选的栈容量限制

## 💻 核心方法

### 数组栈
```python
stack = ArrayStack()
stack.push(item)            # 入栈
stack.pop()                 # 出栈
stack.peek()                # 查看栈顶
stack.is_empty()            # 判断是否为空
stack.size()                # 获取栈大小
stack.display()             # 显示栈内容
```

### 链表栈
```python
lstack = LinkedStack()
lstack.push(item)           # 入栈
lstack.pop()                # 出栈
lstack.peek()               # 查看栈顶
lstack.is_empty()           # 判断是否为空
lstack.size()               # 获取栈大小
lstack.display()            # 显示栈内容
```

### 栈应用
```python
# 括号匹配
StackApplications.is_balanced_parentheses(expr)

# 中缀转后缀
StackApplications.infix_to_postfix(expr)

# 计算后缀表达式
StackApplications.evaluate_postfix(expr)

# 十进制转二进制
StackApplications.decimal_to_binary(num)
```

## 📈 时间复杂度

| 操作 | 时间复杂度 | 说明 |
|------|------------|------|
| 入栈(push) | O(1) | 在栈顶操作 |
| 出栈(pop) | O(1) | 在栈顶操作 |
| 查看栈顶(peek) | O(1) | 不移除元素 |
| 搜索 | O(n) | 需要出栈查找 |

## 🎯 运行示例

```bash
$ python stack.py

=== 基于数组的栈演示 ===
1. 入栈操作:
   入栈 1: [1]
   入栈 2: [1, 2]
   入栈 3: [1, 2, 3]
   入栈 4: [1, 2, 3, 4]
   入栈 5: [1, 2, 3, 4, 5]

2. 栈顶元素:
   栈顶: 5

3. 出栈操作:
   出栈 5: [1, 2, 3, 4]
   出栈 4: [1, 2, 3]
   出栈 3: [1, 2]
   出栈 2: [1]
   出栈 1: []

=== 基于链表的栈演示 ===
1. 入栈操作:
   入栈 A: ['A']
   入栈 B: ['B', 'A']
   入栈 C: ['C', 'B', 'A']
   入栈 D: ['D', 'C', 'B', 'A']

2. 栈大小: 4

3. 出栈操作:
   出栈 D: ['C', 'B', 'A']
   出栈 C: ['B', 'A']

=== 栈应用演示 ===
1. 括号平衡检查:
   '()' 平衡: True
   '()[]{}'平衡: True
   '((()))' 平衡: True
   '([)]' 平衡: False
   '((()' 平衡: False

2. 中缀转后缀:
   a+b*c -> abc*+

3. 计算后缀表达式:
   23*1+ = 7

4. 十进制转二进制:
   10 -> 1010
   25 -> 11001
   42 -> 101010
```

## 🎓 学习要点

### 栈的特性
- **LIFO原则**：后进先出
- **单端操作**：只能在栈顶操作
- **递归性质**：天然支持递归操作

### 数组栈 vs 链表栈

| 特性 | 数组栈 | 链表栈 |
|------|--------|--------|
| 内存使用 | 连续内存 | 分散内存 |
| 缓存性能 | 好 | 一般 |
| 容量限制 | 可设置 | 仅受内存限制 |
| 实现复杂度 | 简单 | 稍复杂 |

### 适用场景
- **函数调用管理**：递归调用栈
- **表达式求值**：中缀、后缀表达式
- **括号匹配检查**：编译器语法检查
- **撤销操作**：编辑器的撤销功能
- **浏览器历史记录**：页面访问历史

### 栈的经典应用

1. **括号匹配**：检查括号是否配对
2. **表达式转换**：中缀转后缀、前缀
3. **表达式求值**：计算后缀表达式
4. **进制转换**：十进制转其他进制
5. **函数调用**：管理函数调用和返回

## 🔗 相关算法

- **深度优先搜索(DFS)**：使用栈实现图遍历
- **回溯算法**：利用栈的LIFO特性
- **单调栈**：解决最大矩形、雨水收集等问题

## 💡 练习建议

1. 实现最小栈（支持O(1)时间获取最小值）
2. 用两个栈实现队列
3. 逆波兰表达式求值
4. 有效括号的所有组合
5. 单调栈解决"下一个更大元素"问题
6. 栈排序算法